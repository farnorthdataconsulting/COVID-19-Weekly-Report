#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date)
View(hosp_bed_region_list)
View(hosp_bed_region_grab)
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
View(hosp_bed_region_list)
View(hosp_bed_region_list)
View(hosp_bed_region_list)
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
View(hosp_bed_region_grab)
print(region)
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
View(hosp_bed_region_grab)
View(hosp_bed_region_list)
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- list(hosp_bed_region_list)
View(hosp_bed_region_list)
View(hosp_bed_region_list)
for (region in hosp_bed_region_list){
print(region)
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- list(hosp_bed_region_list)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- list(hosp_bed_region_list)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
View(hosp_bed_region_list)
for (region in hosp_bed_region_list){
print(region)
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
hosp_bed_region_list <- list(hosp_bed_region_list$Hospital.Region)
View(hosp_bed_region_list)
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- list(hosp_bed_region_list$Hospital.Region)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- list(hosp_bed_region_list$Hospital.Region)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
View(hosp_bed_region_list)
print(hosp_bed_region_list)
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
#hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
View(hosp_bed_region_list)
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
#hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
for (region in hosp_bed_region_list){
print(region)
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
#hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
#hosp_bed_region_grab <- hosp_bed_region_grab %>%
#group_by(Survey.Date, Hospital.Region) %>%
#summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
View(hosp_bed_region_grab)
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
View(hosp_bed_region_grab)
View(hosp_bed_region_grab)
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
}
#Convert Dates to Weekdays
#Keep Only Saturdays
#Drop Weekdays Column
#Set Final DataFrame
View(hosp_bed_region_grab)
#Create Region Column
hosp_bed_region_grab$region = "Test"
#Create Region Column
region_name = region
hosp_bed_region_grab$region_name = "test"
hosp_bed_region_grab[[region]] = "test"
#Create Region Column
hosp_bed_region_grab[[region]] = Pos.COVID..Imputed.
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
#Create Region Column
hosp_bed_region_grab[[region]] = Pos.COVID..Imputed.
}
#Pull Hospital Data Table A from AGOL
agol_hda_csv = "https://www.arcgis.com/sharing/rest/content/items/47554fa6f8e147d9b05f5c990ba630f6/data"
hosp_bed_data_pull = read.csv(agol_hda_csv)
#Filter by GCAF
hosp_bed_filter_gcaf <- filter(hosp_bed_data_pull,
Facility.Filter == 1)
#Select Region and Counts Columns
hosp_bed_select_cols <- select(hosp_bed_filter_gcaf,
Survey.Date, Hospital.Region, Pos.COVID..Imputed.)
#Create List of Regions in Data Table
hosp_bed_region_list <- select(hosp_bed_select_cols, Hospital.Region)
hosp_bed_region_list <- unique(hosp_bed_region_list)
hosp_bed_region_list <- as.list(hosp_bed_region_list$Hospital.Region)
#Merge Hospital Data by Region to DataFrame
hosp_bed_merged_datasets <- data.frame(hosp_bed_select_cols) %>%
select(-c(Hospital.Region, Pos.COVID..Imputed.)) %>%
unique()
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
#Create Region Column
hosp_bed_region_grab[[region]] = Pos.COVID..Imputed.
}
for (region in hosp_bed_region_list){
#Select Out 1 Region at a Time
hosp_bed_region_grab <- filter(hosp_bed_select_cols, Hospital.Region == region)
#Convert Survey Date Field to Date Type
hosp_bed_region_grab$Survey.Date <- as.Date( hosp_bed_region_grab$Survey.Date, "%m/%d/%Y")
#Group by Day
hosp_bed_region_grab <- hosp_bed_region_grab %>%
group_by(Survey.Date, Hospital.Region) %>%
summarize(Pos.COVID..Imputed. = sum(Pos.COVID..Imputed.))
#Create Region Column
hosp_bed_region_grab[[region]] = Pos.COVID..Imputed.
}
