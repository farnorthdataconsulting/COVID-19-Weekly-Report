x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
add_annotations = list(
text = "<sup>Cases are attributed to symptom onset date, if recorded. Otherwise, cases are attributed to specimen collection date, report date or hospitalization date, whichever comes first.<sup>"
) %>%
#Figure Output Options
layout(
title = list(
text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
margin = list(l = 50, r = 20, t = 80, b = 0)
)
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
margin = list(l = 50, r = 20, t = 80, b = 0),
annotations = list(
text = "<sup>Cases are attributed to symptom onset date, if recorded. Otherwise, cases are attributed to specimen collection date, report date or hospitalization date, whichever comes first.<sup>")
)
cases_onset_graph
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
margin = list(l = 50, r = 20, t = 80, b = 0),
annotations = list(
text = "<sup>Cases are attributed to symptom onset date, if recorded. Otherwise, cases are attributed to specimen collection date, report date or hospitalization date, whichever comes first.<sup>")
x = 1,
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
margin = list(l = 50, r = 20, t = 80, b = 0),
annotations = list(
text = "<sup>Cases are attributed to symptom onset date, if recorded. Otherwise, cases are attributed to specimen collection date, report date or hospitalization date, whichever comes first.<sup>",
x = 1,
y = -.1)
)
cases_onset_graph
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
margin = list(l = 50, r = 20, t = 80, b = 0),
annotations = list(
text = "<sup>Cases are attributed to symptom onset date, if recorded. Otherwise, cases are attributed to specimen collection date, report date or hospitalization date, whichever comes first.<sup>",
x = 1,
y = 1)
)
cases_onset_graph
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
margin = list(l = 50, r = 20, t = 80, b = 0)
)
cases_onset_graph
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = "",
#title = list(
#text = "<b>Weekly COVID-19 Cases Among Alaska Residents by Onset Date</b>",
#xanchor = "center",
#x = .400,
#yanchor = "middle",
#font = list(
#family = "Open Sans",
#size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
#margin = list(l = 50, r = 20, t = 80, b = 0)
)
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
#margin = list(l = 50, r = 20, t = 80, b = 0)
)
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95),
#margin = list(l = 50, r = 20, t = 80, b = 0)
)
cases_onset_graph <- plot_ly(cases_onset_by_week) %>%
#Cases by Onset Date
add_trace(
type = "bar",
name = "Cases by Onset Date",
x = ~Date,
y = ~Cases_Date_Onset,
marker = list(
color = "rgb(212, 70, 47)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Preliminary Data
add_trace(
type = 'bar',
name = "Preliminary Data",
x = ~Date,
y = ~Preliminary_Data,
marker = list(
color = "rgb(179, 179, 179)"
),
hovertemplate = ~paste("</br> %{x}",
"<br> %{y:,}")
) %>%
#Figure Output Options
layout(
title = list(
text = "",
xanchor = "center",
x = .400,
yanchor = "middle",
font = list(
family = "Open Sans",
size = 20)),
xaxis = list(
title = "",
text = "%{y:,}"
),
yaxis = list(
title = "",
tickformat = ",",
automargin=T
),
legend = list(x = .72, y = .95)
#margin = list(l = 50, r = 20, t = 80, b = 0)
)
cases_onset_graph
knitr::opts_chunk$set(echo = TRUE)
vac_unvac_hosp_data <- read.csc(vac_unvac_hosp_data_filepath)
vac_unvac_hosp_data_filepath <- "//hssancconf/DPH\HAVRS\Shared/ublic Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Hospitalization Rate/four_week_hosp_IRs_table_2022-04-21.csv"
vac_unvac_hosp_data_filepath <- "//hssancconf/DPH\HAVRS/Shared/ublic Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Hospitalization Rate/four_week_hosp_IRs_table_2022-04-21.csv"
vac_unvac_hosp_data_filepath <- "//hssancconf/DPH/HAVRS/Shared/ublic Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Hospitalization Rate/four_week_hosp_IRs_table_2022-04-21.csv"
library(dplyr)
library(reactable)
library(htmltools)
library(ggplot2)
library(tidyverse)
library(lubridate)
library(reactablefmtr)
library(RcppRoll)
library(Dict)
library(tinytex)
library(timetk)
library(plotly)
vac_unvac_hosp_data <- read.csc(vac_unvac_hosp_data_filepath)
vac_unvac_hosp_data <- read.csv(vac_unvac_hosp_data_filepath)
vac_unvac_hosp_data_filepath <- "//hssancconf/DPH/HAVRS/Shared/ublic Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Hospitalization Rate/four_week_hosp_IRs_table_2022-04-21.csv"
vac_unvac_hosp_data <- read.csv(vac_unvac_hosp_data_filepath)
vac_unvac_hosp_data_filepath <- "//hssancconf/DPH/HAVRS/Shared/ublic Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Hospitalization Rate/four_week_hosp_IRs_table_2022-04-21.csv"
vac_unvac_hosp_data <- read.csv(vac_unvac_hosp_data_filepath)
vac_unvac_hosp_data_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Hospitalization Rate/four_week_hosp_IRs_table_2022-04-21.csv"
vac_unvac_hosp_data <- read.csv(vac_unvac_hosp_data_filepath)
View(vac_unvac_hosp_data)
#Pull Data from VPN Public Health Folder
vac_unvac_case_date_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
vac_unvac_case_data <- read.csv(vac_unvac_case_data_filepath)
#Pull Data from VPN Public Health Folder
vac_unvac_case_date_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
vac_unvac_case_data <- read.csv(vac_unvac_case_data_filepath)
#Pull Data from VPN Public Health Folder
vac_unvac_case_date_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
vac_unvac_case_data <- read.csv(vac_unvac_case_data_filepath)
#Pull Data from VPN Public Health Folder
vac_unvac_case_date_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
vac_unvac_case_data <- read.csv(vac_unvac_case_data_filepath)
#Pull Data from VPN Public Health Folder
vac_unvac_case_date_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
#Pull Data from VPN Public Health Folder
vac_unvac_case_date_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
vac_unvac_case_data <- read.csv(vac_unvac_case_data_filepath)
#Pull Data from VPN Public Health Folder
vac_unvac_case_data_filepath <- "//hssancconf/DPH/HAVRS/Shared/Public Health Data for Dashboards/Vaccinated vs Unvaccinated/Vac vs Unvac Case Rate/weekly_case_IRs_table_2022-04-21.csv"
vac_unvac_case_data <- read.csv(vac_unvac_case_data_filepath)
